<!DOCTYPE html>
<html>
<head>
    

    

    
<!-- Baidu Tongji -->
<script>var _hmt = _hmt || []</script>
<script async src="//hm.baidu.com/hm.js?dd5caa4e0169ff7ed21c4cdc78710602"></script>
<!-- End Baidu Tongji -->




    <meta charset="utf-8">
    
    
    
    <title>初识ES6 | 白夜的博客 | 进击的前端 | 学习笔记以及开源分享 | 身体和灵魂总得有一样在路上前行。</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="ES6">
    <meta name="description" content="let和constlet命令：用来声明一个变量，与var非常相似。

let声明的变量只在命令所在的代码块{}内有效。
123456&amp;#123;  let a = 1;  var b = 2;&amp;#125;console.log(a) //error=&amp;gt; a is not definedconsole.log(b) //2

let声明的变量在域解析的时候不会被提升
12345678910co">
<meta property="og:type" content="article">
<meta property="og:title" content="初识ES6">
<meta property="og:url" content="http://kpengWang.github.io/2017/08/15/初识ES6/index.html">
<meta property="og:site_name" content="白夜的博客">
<meta property="og:description" content="let和constlet命令：用来声明一个变量，与var非常相似。

let声明的变量只在命令所在的代码块{}内有效。
123456&amp;#123;  let a = 1;  var b = 2;&amp;#125;console.log(a) //error=&amp;gt; a is not definedconsole.log(b) //2

let声明的变量在域解析的时候不会被提升
12345678910co">
<meta property="og:updated_time" content="2017-08-16T14:23:40.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="初识ES6">
<meta name="twitter:description" content="let和constlet命令：用来声明一个变量，与var非常相似。

let声明的变量只在命令所在的代码块{}内有效。
123456&amp;#123;  let a = 1;  var b = 2;&amp;#125;console.log(a) //error=&amp;gt; a is not definedconsole.log(b) //2

let声明的变量在域解析的时候不会被提升
12345678910co">
    
        <link rel="alternate" type="application/atom+xml" title="白夜的博客" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>
</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/head.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">白夜</h5>
          <a href="mailto:417940197@qq.com" title="417940197@qq.com" class="mail">417940197@qq.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                Home
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/kpengWang" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://www.facebook.com/kpeng1011" target="_blank" >
                <i class="icon icon-lg icon-facebook"></i>
                Facebook
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">初识ES6</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">初识ES6</h1>
        <h5 class="subtitle">
            
                <time datetime="2017-08-15T13:26:00.000Z" itemprop="datePublished" class="page-time">
  2017-08-15
</time>


            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#let和const"><span class="post-toc-number">1.</span> <span class="post-toc-text">let和const</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#变量的解构赋值"><span class="post-toc-number">2.</span> <span class="post-toc-text">变量的解构赋值</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Set数据结构"><span class="post-toc-number">3.</span> <span class="post-toc-text">Set数据结构</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Map数据结构"><span class="post-toc-number">4.</span> <span class="post-toc-text">Map数据结构</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#iterator和for-of循环"><span class="post-toc-number">5.</span> <span class="post-toc-text">iterator和for-of循环</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#class的基本使用"><span class="post-toc-number">6.</span> <span class="post-toc-text">class的基本使用</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#class的继承"><span class="post-toc-number">7.</span> <span class="post-toc-text">class的继承</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Symbol数据类型"><span class="post-toc-number">8.</span> <span class="post-toc-text">Symbol数据类型</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#内置对象的扩展"><span class="post-toc-number">9.</span> <span class="post-toc-text">内置对象的扩展</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#函数的扩展"><span class="post-toc-number">10.</span> <span class="post-toc-text">函数的扩展</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#异步操作Promise"><span class="post-toc-number">11.</span> <span class="post-toc-text">异步操作Promise</span></a></li></ol>
        </nav>
    </aside>
    
<article id="post-初识ES6"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">初识ES6</h1>
        <div class="post-meta">
            <time class="post-time" title="2017-08-15 21:26:00" datetime="2017-08-15T13:26:00.000Z"  itemprop="datePublished">2017-08-15</time>

            


            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


            

        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h3 id="let和const"><a href="#let和const" class="headerlink" title="let和const"></a>let和const</h3><p><code>let</code>命令：用来声明一个变量，与<code>var</code>非常相似。</p>
<ol>
<li><p><code>let</code>声明的变量只在命令所在的代码块<code>{}</code>内有效。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="keyword">let</span> a = <span class="number">1</span>;</div><div class="line">  <span class="keyword">var</span> b = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(a) <span class="comment">//error=&gt; a is not defined</span></div><div class="line"><span class="built_in">console</span>.log(b) <span class="comment">//2</span></div></pre></td></tr></table></figure>
</li>
<li><p><code>let</code>声明的变量在域解析的时候不会被提升</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(a);<span class="comment">//undifined</span></div><div class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</div><div class="line"><span class="built_in">console</span>.log(b); <span class="comment">//error=&gt; b is not defined</span></div><div class="line"><span class="keyword">let</span> b = <span class="number">1</span>;</div><div class="line"></div><div class="line"><span class="keyword">let</span> f = <span class="number">10</span>;</div><div class="line">(<span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  f = <span class="number">7</span>;  <span class="comment">//暂时性死区</span></div><div class="line">  <span class="keyword">let</span> f = <span class="number">2</span>;</div><div class="line">&#125;)()<span class="comment">//error=&gt; f is not defined</span></div></pre></td></tr></table></figure>
</li>
<li><p><code>let</code>不允许在同一作用域下重复声明已经存在的变量。</p>
</li>
</ol>
   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = <span class="number">1</span>,b=<span class="number">2</span>;</div><div class="line"><span class="keyword">let</span> a;  <span class="comment">//error=&gt;Identifier 'a' has already been declared</span></div><div class="line"><span class="keyword">let</span> b;  <span class="comment">//error=&gt;Identifier 'a' has already been declared</span></div></pre></td></tr></table></figure>
<p><code>let</code>在for循环内的使用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//下面三个for循环实现方法不同，但是效果都是一样的</span></div><div class="line"><span class="keyword">var</span> btns = <span class="built_in">document</span>.querySelectorAll(<span class="string">'button'</span>);</div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = btns.length; i &lt; len; i++) &#123;</div><div class="line">  btns[i].index = i;</div><div class="line">  btns[i].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    alert(<span class="keyword">this</span>.index);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = btns.length; i &lt; len; i++) &#123;</div><div class="line">  (<span class="function"><span class="keyword">function</span>(<span class="params">i</span>) </span>&#123;</div><div class="line">    btns[i].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">      alert(i);</div><div class="line">    &#125;</div><div class="line">  &#125;)(i)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//在循环语句之内是一个父作用域，在循环体中是一个子作用域</span></div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; btns.length; i++) </div><div class="line">  btns[i].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    alert(i);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</div><div class="line">  <span class="keyword">let</span> i = <span class="number">10</span>;</div><div class="line">  <span class="built_in">console</span>.log(i); <span class="comment">//3次10</span></div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(i)<span class="comment">// i is not defined</span></div></pre></td></tr></table></figure>
<p><code>const</code>命令: 同样具备<code>let</code>的1～3条特点，另外还有两点要注意</p>
<ol>
<li><p>声明的时候必须要赋值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> a; <span class="comment">//error=&gt;Missing initializer in const declaration</span></div></pre></td></tr></table></figure>
</li>
<li><p>声明的常量储存基本数据类型时候不可改变其值，如果储存的是对象，那么其引用不可被改变，至于对象里的数据如何变化，是没有关系的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> b =<span class="number">1</span>;</div><div class="line">b=&#123;&#125;; <span class="comment">//error=&gt;Assignment to constant variable.</span></div><div class="line"><span class="keyword">const</span> obj=&#123;<span class="attr">a</span>:<span class="number">10</span>&#125;;</div><div class="line">obj.a=<span class="number">20</span>;</div><div class="line"><span class="built_in">console</span>.log(obj) <span class="comment">//&#123;a: 20&#125;</span></div></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<h3 id="变量的解构赋值"><a href="#变量的解构赋值" class="headerlink" title="变量的解构赋值"></a>变量的解构赋值</h3><p><strong>基本概念：</strong>本质上就是一种匹配模式，只要<code>=</code>两边的模式相同，那么左边的变量就可以被赋予右边相对应的值。</p>
<p>主要应用3种：</p>
<ol>
<li>数组</li>
<li>对象</li>
<li>基本类型</li>
</ol>
<p><strong>数组的结构赋值：</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> [a, b, c] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</div><div class="line"><span class="built_in">console</span>.log(a,b,c);  <span class="comment">//1,2,3</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> [a, [[b], c ]] = [<span class="number">1</span>, [[<span class="number">2</span>], <span class="number">3</span>]];</div><div class="line"><span class="built_in">console</span>.log(a, b, c); <span class="comment">//1,2,3</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> [a, [b, c], e] = [<span class="number">1</span>, [<span class="number">2</span>, <span class="number">3</span>], <span class="number">4</span>];</div><div class="line"><span class="built_in">console</span>.log(a, b, c); <span class="comment">//1,2,3</span></div><div class="line"><span class="built_in">console</span>.log(a, b, f); <span class="comment">//error=&gt; f is not defined</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> [x] = [];</div><div class="line"><span class="built_in">console</span>.log(x); <span class="comment">//undefined</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> [y=<span class="number">1</span>] = []; <span class="comment">//设置默认值</span></div><div class="line"><span class="built_in">console</span>.log(y); <span class="comment">//1</span></div></pre></td></tr></table></figure>
<p><strong>对象的结构赋值：</strong></p>
<p>真正被赋值的是value值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> &#123;a,b&#125;=&#123;<span class="attr">b</span>:<span class="string">'aaa'</span>,<span class="attr">a</span>:<span class="string">'bbb'</span>&#125;;</div><div class="line"><span class="built_in">console</span>.log(a,b)<span class="comment">// bbb,aaa</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> &#123;a,b&#125;=&#123;<span class="attr">a</span>:<span class="number">1</span>&#125;;</div><div class="line"><span class="built_in">console</span>.log(b);<span class="comment">//1  </span></div><div class="line"><span class="built_in">console</span>.log(a);<span class="comment">//error=&gt; f is not defined</span></div></pre></td></tr></table></figure>
<p><strong>基本类型的结构赋值：</strong></p>
<ol>
<li><p>字符串</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> [a,b,c,d]=<span class="string">'1234'</span>;</div><div class="line"><span class="built_in">console</span>.log(a,b,c,d);<span class="comment">// 1 2 3 4</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> &#123; <span class="attr">length</span>: len &#125; = <span class="string">'miaov'</span>;</div><div class="line"><span class="built_in">console</span>.log(len); <span class="comment">//5 字符长度</span></div></pre></td></tr></table></figure>
</li>
<li><p>数值和布尔值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> &#123;<span class="attr">toString</span>: ts &#125; = <span class="number">1</span>;</div><div class="line"><span class="keyword">let</span> &#123;<span class="attr">toString</span>: bs &#125; = <span class="literal">true</span>;</div><div class="line"><span class="comment">// 相当于Number.prototype.toString</span></div><div class="line"> <span class="built_in">console</span>.log(ts); <span class="comment">//toString() &#123; [native code] &#125;</span></div><div class="line"><span class="comment">// 相当于 Boolean.prototype.toString</span></div><div class="line"> <span class="built_in">console</span>.log(bs); <span class="comment">//toString() &#123; [native code] &#125;</span></div></pre></td></tr></table></figure>
</li>
<li><p><code>null</code>和<code>undefined</code>不能进行解构赋值，会报错！</p>
</li>
</ol>
<hr>
<h3 id="Set数据结构"><a href="#Set数据结构" class="headerlink" title="Set数据结构"></a>Set数据结构</h3><ul>
<li>概念：<code>Set</code>其实是一种集合，它是由一组无序且唯一（即不能重复）的项组成，这个数据结构使用了与有限集合相同的数学概念，应用在计算机的数据结构中。</li>
<li>特点：key和value相同，且没有重复的value</li>
</ul>
<ol>
<li>创建一个Set</li>
</ol>
<ul>
<li><p><code>Set</code>是一个构造函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> s= <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]);</div><div class="line"><span class="built_in">console</span>.log(s); <span class="comment">//Set(3) &#123;1, 2, 3&#125;</span></div></pre></td></tr></table></figure>
</li>
</ul>
<ol>
<li><p>Set的方法</p>
<ul>
<li><strong>添加</strong>: <code>set.add(value)</code>添加一个数据，返回Set结构本身</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> s= <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]);</div><div class="line">s.add(<span class="string">'a'</span>).add(<span class="string">'b'</span>).add(<span class="string">'c'</span>);</div><div class="line"><span class="built_in">console</span>.log(s); <span class="comment">//Set(6) &#123;1, 2, 3, "a", "b","c"&#125;</span></div></pre></td></tr></table></figure>
<ul>
<li><strong>删除</strong>: <code>set.delet(value)</code>删除一个指定数据，返回布尔值，表示是否删除成功</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> s= <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]);</div><div class="line"><span class="built_in">console</span>.log(s.delete(<span class="number">1</span>)); <span class="comment">//true</span></div><div class="line"><span class="built_in">console</span>.log(s); <span class="comment">//Set(2) &#123;2, 3&#125;</span></div><div class="line"><span class="built_in">console</span>.log(s.delete(<span class="number">1</span>)); <span class="comment">//false  已经没有了</span></div></pre></td></tr></table></figure>
<ul>
<li><strong>判断</strong>: `Set.has(value)判断该value是否是为Set的成员,返回一个布尔值</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</div><div class="line"><span class="built_in">console</span>.log(s.has(<span class="number">1</span>)); <span class="comment">//true</span></div><div class="line">s.delete(<span class="number">1</span>);</div><div class="line"><span class="built_in">console</span>.log(s.has(<span class="number">1</span>)); <span class="comment">//true</span></div></pre></td></tr></table></figure>
<ul>
<li><strong>清除</strong>：<code>Set.clear()</code>清除所有数据，没有返回值</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</div><div class="line">s.clear();</div><div class="line"><span class="built_in">console</span>.log(s);<span class="comment">//Set(0) &#123;&#125;</span></div></pre></td></tr></table></figure>
<ul>
<li><p><strong>遍历</strong></p>
<ul>
<li><code>keys()</code>返回键名的遍历器</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//因为Set数据里的键值对都一样，所以与value()方法结果一样</span></div><div class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</div><div class="line"><span class="built_in">console</span>.log(s.keys()); <span class="comment">//SetIterator &#123;1, 2, 3&#125;</span></div></pre></td></tr></table></figure>
<ul>
<li><code>values()</code>返回键值的遍历器</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//因为Set数据里的键值对都一样，所以与keys()方法结果一样</span></div><div class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</div><div class="line"><span class="built_in">console</span>.log(s.keys()); <span class="comment">//SetIterator &#123;1, 2, 3&#125;</span></div></pre></td></tr></table></figure>
<ul>
<li><code>entries()</code>返回键值对的遍历器</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</div><div class="line"><span class="built_in">console</span>.log(s.entries()); <span class="comment">//SetIterator &#123;1, 2, 3&#125;</span></div></pre></td></tr></table></figure>
<ul>
<li><code>forEach()</code>使用回调函数遍历Set的每项</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> s= <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]);</div><div class="line">s.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">value, key, set</span>) </span>&#123;</div><div class="line">  <span class="comment">//接收3个参数</span></div><div class="line">  <span class="built_in">console</span>.log(value + <span class="string">'aaa'</span> + key);  </div><div class="line">  <span class="built_in">console</span>.log(set);</div><div class="line">  <span class="comment">//1aaa1   </span></div><div class="line">  <span class="comment">//Set(3) &#123;1, 2, 3&#125;</span></div><div class="line">  <span class="comment">//2aaa2</span></div><div class="line">  <span class="comment">//Set(3) &#123;1, 2, 3&#125;</span></div><div class="line">  <span class="comment">//3aaa3   </span></div><div class="line">  <span class="comment">//Set(3) &#123;1, 2, 3&#125;</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>利用Set去重</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, &#123;&#125;, <span class="number">5</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="string">'test'</span>];</div><div class="line"><span class="keyword">const</span> newArr = <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(arr));</div><div class="line"><span class="built_in">console</span>.log(newArr);<span class="comment">// [1, 2, 3, &#123;…&#125;, 5, "test"]</span></div></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<h3 id="Map数据结构"><a href="#Map数据结构" class="headerlink" title="Map数据结构"></a>Map数据结构</h3><p><strong>基础概念</strong></p>
<p> Map是一种字典类型的数据解构。</p>
<ol>
<li>字典类型：是用来储存不重复key的Hash解构。不同于集合(<code>Set</code>)的是，字典使用的是[键，值]的形式来储存数据的。</li>
<li>JavaScript的对象(<code>Obj:{}</code>)只能使用字符串来当作键。这给它的使用带来了很大的限制。</li>
<li><code>Map</code>类似于对象，也是给键值对的集合，但是“键”的范围不限于字符串，各种类型的值（包括对象）都可以当作键。相对于对象提供的“字符串-值”，Map结构提供的是“值-值”的对应，是一种更完善的Hash结构实现。</li>
</ol>
<p><strong>Exp:</strong></p>
<p>以下使用Object举例</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> data1 = &#123;<span class="attr">a</span>: <span class="number">1</span> &#125;,</div><div class="line">    data2 = &#123; <span class="attr">b</span>: <span class="number">2</span>&#125;,</div><div class="line">    obj = &#123;&#125;;</div><div class="line"></div><div class="line">obj[data1] = <span class="number">1</span>;</div><div class="line">obj[data2] = <span class="number">2</span>;</div><div class="line"><span class="comment">//这里的key值都是个是对象的时候，会调用toString()方法，将其转换成字符串</span></div><div class="line"><span class="built_in">console</span>.log(obj); <span class="comment">//"[object Object]":2</span></div></pre></td></tr></table></figure>
<ol>
<li><p>创建一个Map</p>
<p>Map也是当作一个构造函数来创建的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([</div><div class="line">            [<span class="string">'a'</span>, <span class="number">1</span>],</div><div class="line">            [<span class="string">'b'</span>, <span class="number">2</span>]</div><div class="line">        ]);</div><div class="line"><span class="built_in">console</span>.log(map); <span class="comment">//Map(2) &#123;"a" =&gt; 1, "b" =&gt; 2&#125;</span></div></pre></td></tr></table></figure>
</li>
<li><p>Map的属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//相当于obj.length</span></div><div class="line"><span class="built_in">console</span>.log(map.size);</div></pre></td></tr></table></figure>
</li>
<li><p>Map的方法</p>
<ul>
<li><p><strong>添加</strong><code>set(key,value)</code>设置键名key对应的键值为value,然后返回整个Map结构。如果key已存在，则对应的值会被更新，否则就生成该键。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*接上段代码*/</span></div><div class="line">map.set(<span class="string">'name'</span>,<span class="string">'Antares'</span>).set(<span class="string">'new'</span>,<span class="string">'fq'</span>).set(<span class="string">'name'</span>,<span class="string">'Nicholas'</span>);</div><div class="line"><span class="built_in">console</span>.log(map);</div><div class="line"><span class="comment">//output:Map(4) &#123;"a" =&gt; 1, "b" =&gt; 2, "name" =&gt; "Nicholas", "new" =&gt; "fq"&#125;</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>获取</strong><code>get(key)</code> 读取参数相对应的key的值，如果找不到key，则返回<code>undefined</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*接上段代码*/</span></div><div class="line"><span class="built_in">console</span>.log(map.get(<span class="string">'new'</span>));<span class="comment">//'fq'</span></div><div class="line"><span class="built_in">console</span>.log(map.get(<span class="string">'x'</span>));<span class="comment">//undefined</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>删除</strong><code>delete(key)</code>删除某个key，返回布尔值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*接上段代码*/</span></div><div class="line"><span class="built_in">console</span>.log(map.delete(<span class="string">'a'</span>));<span class="comment">//true</span></div><div class="line"><span class="built_in">console</span>.log(map);</div><div class="line"><span class="built_in">console</span>.log(map.delete(<span class="string">'a'</span>));<span class="comment">//false</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>判断</strong><code>has(key)</code> 是否存在某个key，返回布尔值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">/*接上段代码*/</div><div class="line">console.log(map.has(&apos;name&apos;));//true</div><div class="line">console.log(map.delete(&apos;a&apos;));//false</div></pre></td></tr></table></figure>
</li>
<li><p><strong>清除</strong><code>clear()</code>清除当前Map所有数据，无返回值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">map.clear();</div></pre></td></tr></table></figure>
</li>
<li><p><strong>遍历</strong></p>
<ol>
<li><code>keys()</code>返回键名</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(map.keys()); <span class="comment">//MapIterator &#123;"a", "b", "name", "new"&#125;</span></div></pre></td></tr></table></figure>
<ol>
<li><code>values()</code>返回键值</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(map.values());<span class="comment">//MapIterator &#123;1, 2, "Nicholas", "fq"&#125;</span></div></pre></td></tr></table></figure>
<ol>
<li><code>entries()</code>返回键值对</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(map.entries());<span class="comment">//MapIterator &#123;"a" =&gt; 1, "b" =&gt; 2, "name" =&gt; "Nicholas", "new" =&gt; "fq"&#125;</span></div></pre></td></tr></table></figure>
<ol>
<li><code>forEach(key,value,map)</code>使用回调遍历每个项</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"> map.forEach(<span class="function">(<span class="params">key, value, map</span>) =&gt;</span> &#123;</div><div class="line">   <span class="built_in">console</span>.log(key + <span class="string">':'</span> + value);</div><div class="line"> &#125;);</div><div class="line"><span class="comment">// 1:a </span></div><div class="line"><span class="comment">// 2:b</span></div><div class="line"><span class="comment">// Nicholas:name</span></div><div class="line"><span class="comment">// fq:new</span></div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Map使用的注意事项</p>
<ul>
<li>键值是<code>NaN</code></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>();</div><div class="line">m.set(<span class="literal">NaN</span>, <span class="number">10</span>).set(<span class="literal">NaN</span>, <span class="number">100</span>);</div><div class="line"><span class="built_in">console</span>.log(m); <span class="comment">//Map(1) &#123;NaN =&gt; 100&#125;</span></div></pre></td></tr></table></figure>
<ul>
<li>键值是Obj</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>();</div><div class="line">m.set(&#123;&#125;,<span class="string">'x'</span>).set(&#123;&#125;,<span class="string">'y'</span>);</div><div class="line"><span class="built_in">console</span>.log(m);<span class="comment">//Map(2) &#123;&#123;…&#125; =&gt; "x", &#123;…&#125; =&gt; "y"&#125; 因为内存地址不同</span></div></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<h3 id="iterator和for-of循环"><a href="#iterator和for-of循环" class="headerlink" title="iterator和for-of循环"></a>iterator和for-of循环</h3><p>因为ES中新增了<code>Set</code>和<code>Map</code>，再加上之前的Array和Object,就一共有四种数据集合。组合使用它们的时候，<code>Iterator</code>接口就是为了统一管理访问机制。   任何数据只要部署了<code>Iterator</code>接口，就可以完成遍历操作，而且这种遍历操作是<strong>依次</strong>处理该数据解构的所有成员。</p>
<ul>
<li>为各种数据结构提供一个统一简便的访问接口。</li>
<li>使得数据结构的成员能够按照某种次序排列。</li>
<li>主要为<code>for...of</code>遍历命令消费。</li>
</ul>
<ol>
<li>手写实现<code>Iterator</code>接口。</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">iterator</span>(<span class="params">arr</span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> index = <span class="number">0</span>;</div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="attr">next</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> index &lt; arr.length ? &#123;</div><div class="line">        <span class="attr">value</span>: arr[index++],</div><div class="line">        <span class="attr">done</span>: <span class="literal">false</span></div><div class="line">      &#125; : &#123;</div><div class="line">        <span class="attr">value</span>: <span class="literal">undefined</span>,</div><div class="line">        <span class="attr">done</span>: <span class="literal">true</span></div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(iterator(arr).next()); <span class="comment">//&#123;value: 1, done: false&#125;</span></div><div class="line"><span class="built_in">console</span>.log(iterator(arr).next()); <span class="comment">//&#123;value: 2, done: false&#125;</span></div><div class="line"><span class="built_in">console</span>.log(iterator(arr).next()); <span class="comment">//&#123;value: 3, done: false&#125;</span></div><div class="line"><span class="built_in">console</span>.log(iterator(arr).next()); <span class="comment">//&#123;value: undefined, done: true&#125;</span></div></pre></td></tr></table></figure>
<p>遍历过程：</p>
<ol>
<li>创建一个指针对象，指向当前数据结构的起始位置，也就是说，遍历器对象本质上就是一个指针对象。</li>
<li>第一次调用对象的<code>next()</code>方法，就可以将指针指向数据结构的第一个成员，</li>
<li>第二次调用对象的<code>next()</code>方法，指针指向数据结构的第二个成员，</li>
<li>…依次类推，直到它只想数据结构的结束位置。</li>
<li>每一次调用<code>next()</code>方法，都会返回数据结构的当前成员的信息。具体来说，就是返回一个包含<code>value</code>和<code>done</code>两个属性的对象。</li>
</ol>
<ol>
<li><p>凡是具有<code>Symbol.iterator</code>属性的数据结构，<strong>Array,Set,Map具有Iterater接口，Object没有。</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> obj = &#123;&#125;;</div><div class="line"><span class="keyword">const</span> arr = [];</div><div class="line"><span class="keyword">const</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>]);</div><div class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">'a'</span>,<span class="string">'1'</span>]]);</div><div class="line"><span class="built_in">console</span>.log(obj[<span class="built_in">Symbol</span>.iterator]); <span class="comment">//undefined</span></div><div class="line"><span class="built_in">console</span>.log(arrs[<span class="built_in">Symbol</span>.iterator]); <span class="comment">//ƒ values() &#123; [native code] &#125;</span></div></pre></td></tr></table></figure>
</li>
<li><p>凡是具备<code>iterator</code>接口的数据结构都可以进行以下操作</p>
</li>
</ol>
<ol>
<li><p>结构赋值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>]);</div><div class="line"><span class="keyword">let</span> [x,y]=set;</div><div class="line"><span class="built_in">console</span>.log(x,y);<span class="comment">//a b</span></div></pre></td></tr></table></figure>
<ol>
<li>扩展运算符<code>...</code></li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> str = <span class="string">'miaov'</span>;</div><div class="line"><span class="keyword">let</span> arrStr= [..str];</div><div class="line"><span class="built_in">console</span>.log(arrStr);<span class="comment">//(5) ["m", "i", "a", "o", "v"]</span></div><div class="line"><span class="comment">//数组去重</span></div><div class="line"><span class="keyword">const</span> arr2 = [&#123;&#125;, <span class="number">1</span>, <span class="string">'2'</span>, <span class="string">'2'</span>, <span class="number">1</span>, <span class="string">'b'</span>, []];</div><div class="line"><span class="built_in">console</span>.log([...new <span class="built_in">Set</span>(arr2)]); <span class="comment">//[&#123;…&#125;, 1, "2", "b", Array(0)]</span></div></pre></td></tr></table></figure>
<ol>
<li>for…of循环</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> ofArr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</div><div class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">of</span> ofArr)&#123;</div><div class="line">  <span class="built_in">console</span>.log(i); </div><div class="line">  <span class="comment">//1</span></div><div class="line">  <span class="comment">//2</span></div><div class="line">  <span class="comment">//3</span></div><div class="line">  <span class="comment">//4</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>();</div><div class="line">m.set(<span class="string">'a'</span>,<span class="number">1</span>).set(<span class="string">'b'</span>,<span class="number">2</span>).set(<span class="string">'c'</span>,<span class="number">3</span>);</div><div class="line"><span class="keyword">for</span>(<span class="keyword">let</span> data <span class="keyword">of</span> m)&#123;</div><div class="line">  <span class="built_in">console</span>.log(data);</div><div class="line">  <span class="comment">//["a", 1]</span></div><div class="line">  <span class="comment">//["b", 2]</span></div><div class="line">  <span class="comment">//["c", 3]</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="keyword">let</span> [key,value] <span class="keyword">of</span> m)&#123;</div><div class="line">  <span class="built_in">console</span>.log(key,value);</div><div class="line">   <span class="comment">//a 1</span></div><div class="line">  <span class="comment">//b 2</span></div><div class="line">  <span class="comment">//c 3</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<p>给对象部署一个iterator接口</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> j = &#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'小红'</span>,</div><div class="line">  <span class="attr">age</span>: <span class="number">18</span></div><div class="line">&#125;</div><div class="line"><span class="comment">//给j对象添加一个iterator接口</span></div><div class="line">j[<span class="built_in">Symbol</span>.iterator] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="comment">//使用object.keys()方法把j对象中的k值读取出来存在数组当中</span></div><div class="line">  <span class="keyword">var</span> arr = <span class="built_in">Object</span>.keys(j);</div><div class="line">  <span class="keyword">var</span> i = <span class="number">0</span>;</div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="comment">//ES6中next（）迭代方法，自动迭代</span></div><div class="line">    next() &#123;</div><div class="line">      <span class="keyword">return</span> i &lt; arr.length ? &#123;</div><div class="line">        <span class="comment">//返回迭代的最后结果，如果是一个对象，那么for of的时候需要用解构</span></div><div class="line">        value: &#123;</div><div class="line">          <span class="attr">k</span>: arr[i],</div><div class="line">          <span class="attr">val</span>: j[arr[i++]]</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">done</span>: <span class="literal">false</span></div><div class="line">      &#125; : &#123;</div><div class="line">        <span class="comment">//如果done为true，继续迭代</span></div><div class="line">        value: <span class="literal">null</span>,</div><div class="line">        <span class="attr">done</span>: <span class="literal">true</span></div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//解构获取返回得到的对象，输出k值，val值</span></div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> &#123; k, val&#125; <span class="keyword">of</span> j) &#123;</div><div class="line">  <span class="built_in">console</span>.log(k, val);</div><div class="line">  <span class="comment">//name 小红</span></div><div class="line">  <span class="comment">//age 18</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h3 id="class的基本使用"><a href="#class的基本使用" class="headerlink" title="class的基本使用"></a>class的基本使用</h3><p><strong>用ES5的<code>prototype</code>创建一个‘类’</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> Fn5 = <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</div><div class="line">  <span class="keyword">this</span>.a = a;</div><div class="line">  <span class="keyword">this</span>.b = b;</div><div class="line">  <span class="keyword">return</span> <span class="keyword">this</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Fn5.prototype = &#123;</div><div class="line">  <span class="attr">constructor</span>: Fn5,</div><div class="line">  <span class="attr">print</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.a + <span class="string">','</span> + <span class="keyword">this</span>.b);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> arr = <span class="keyword">new</span> Fn5(<span class="string">'HELLO'</span>, <span class="string">'WORLD'</span>).print(); <span class="comment">//HELLO,WORLD</span></div></pre></td></tr></table></figure>
<p><strong>用ES6的<code>class</code>创建一个‘类’</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fn6</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(a, b) &#123;</div><div class="line">    <span class="keyword">this</span>.a = a;</div><div class="line">    <span class="keyword">this</span>.b = b;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</div><div class="line">  &#125;</div><div class="line">  print() &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.a + <span class="string">','</span> + <span class="keyword">this</span>.b);</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">const</span> arr2 = <span class="keyword">new</span> Fn6(<span class="string">'HELLO'</span>, <span class="string">'WORLD'</span>).print(); <span class="comment">//HELLO,WORLD</span></div></pre></td></tr></table></figure>
<p><strong>使用class的注意事项</strong></p>
<ol>
<li><p>Fn6里的<code>constructor</code>方法是构造方法，this关键字则代表实例对象。也就是说Fn5构造函数对应的是Fn6这个类的构造方法。</p>
</li>
<li><p>Fn6除了<code>constructor</code>构造方法，还定义了一个<code>print()</code>方法。注意方法之间无须添加逗号。</p>
</li>
<li><p>ES5构造函数的<code>prototype</code>属性，在ES6的“类”上继续存在。而且类的所有方法其实都定义在类的<code>prototype</code>属性上。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(Fn6.prototype); <span class="comment">//&#123;constructor: ƒ, print: ƒ&#125;</span></div></pre></td></tr></table></figure>
</li>
<li><p>定义在类中的方法都是<strong>不可枚举</strong>的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(Fn5.prototype));<span class="comment">//["constructor", "print"]</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(Fn6.prototype)); <span class="comment">//[]</span></div></pre></td></tr></table></figure>
</li>
<li><p><code>constructor</code>方法是类的默认方法，通过<code>new</code>命令生成对象实例时，自动调用该方法。一个类如果没有显示定义<code>constructor</code>方法，将会被默认添加。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fn</span></span>&#123;&#125;;</div><div class="line"><span class="keyword">const</span> fn =<span class="keyword">new</span> Fn();</div><div class="line"><span class="built_in">console</span>.log(fn);<span class="comment">//Fn &#123;&#125;</span></div></pre></td></tr></table></figure>
</li>
<li><p>使用class的实力对象也是使用<code>new</code>命令，不添加将会报错。</p>
</li>
</ol>
<hr>
<h3 id="class的继承"><a href="#class的继承" class="headerlink" title="class的继承"></a>class的继承</h3><p>举一个canvas小球回弹的例子</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">'#canvas'</span>);</div><div class="line"></div><div class="line"><span class="comment">//获取绘图环境</span></div><div class="line"><span class="keyword">const</span> ctx = canvas.getContext(<span class="string">'2d'</span>);</div><div class="line"><span class="comment">//初始化画布的分辨率</span></div><div class="line"><span class="keyword">const</span> w = canvas.width = <span class="number">600</span>;</div><div class="line"><span class="keyword">const</span> h = canvas.height = <span class="number">400</span>;</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ball</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(x, y, r) &#123;</div><div class="line">    <span class="keyword">this</span>.x = x;</div><div class="line">    <span class="keyword">this</span>.y = y;</div><div class="line">    <span class="keyword">this</span>.r = r;</div><div class="line">    <span class="comment">// "~~"前缀是去除小数点以及后面的数字</span></div><div class="line">    <span class="keyword">this</span>.color = <span class="string">`rgb(<span class="subst">$&#123;~~Ball.rpFn([<span class="number">55</span>, <span class="number">255</span>])&#125;</span>, <span class="subst">$&#123;~~Ball.rpFn([<span class="number">55</span>, <span class="number">255</span>])&#125;</span>, <span class="subst">$&#123;~~Ball.rpFn([<span class="number">55</span>, <span class="number">255</span>])&#125;</span>)`</span>;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="comment">//渲染方法</span></div><div class="line">  render(ctx) &#123;</div><div class="line">    ctx.save(); <span class="comment">//保存绘图环境</span></div><div class="line">    ctx.translate(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y); <span class="comment">//获取坐标</span></div><div class="line">    ctx.fillStyle = <span class="keyword">this</span>.color; <span class="comment">//指定填充颜色</span></div><div class="line">    ctx.beginPath(); <span class="comment">//起始一个新的路径</span></div><div class="line">    ctx.arc(<span class="number">0</span>, <span class="number">0</span>, <span class="keyword">this</span>.r, <span class="number">0</span>, <span class="number">2</span> * <span class="built_in">Math</span>.PI); <span class="comment">//绘制路径</span></div><div class="line">    ctx.fill(); <span class="comment">//填充颜色</span></div><div class="line">    ctx.restore(); <span class="comment">//恢复绘图环境</span></div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">//静态方法</span></div><div class="line">  <span class="keyword">static</span> rpFn(arr) &#123;</div><div class="line">    <span class="comment">// 取参数数组的最大值和最小值</span></div><div class="line">    <span class="keyword">let</span> max = <span class="built_in">Math</span>.max(...arr),</div><div class="line">        min = <span class="built_in">Math</span>.min(...arr);</div><div class="line">    <span class="comment">//返回一个随机数</span></div><div class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.random() * (max - min) + min;</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">SuperBall</span> <span class="keyword">extends</span> <span class="title">Ball</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(x, y, r) &#123;</div><div class="line">    <span class="comment">// Ball.call(this, x, y, z);</span></div><div class="line">    <span class="comment">// this.color = 'red';</span></div><div class="line">    <span class="comment">//子类继承父类的时候，本身是没有this指向的</span></div><div class="line">    <span class="keyword">super</span>(x, y, r);</div><div class="line">    <span class="keyword">this</span>.vy = SuperBall.rpFn([<span class="number">2</span>, <span class="number">4</span>]);</div><div class="line">    <span class="keyword">this</span>.g = SuperBall.rpFn([<span class="number">0.2</span>, <span class="number">0.4</span>]);</div><div class="line">    <span class="keyword">this</span>.a = <span class="number">0</span>;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</div><div class="line">  &#125;</div><div class="line">  move(ctx) &#123;</div><div class="line">    <span class="comment">// super(); //'super' keyword unexpected here</span></div><div class="line">    <span class="keyword">let</span> current = <span class="keyword">this</span>.vy * <span class="number">-0.75</span>;</div><div class="line">    <span class="keyword">this</span>.y += <span class="keyword">this</span>.vy;</div><div class="line">    <span class="keyword">this</span>.vy += <span class="keyword">this</span>.g;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.y + <span class="keyword">this</span>.r &gt;= ctx.canvas.height) &#123;</div><div class="line">      <span class="keyword">this</span>.y = ctx.canvas.height - <span class="keyword">this</span>.r;</div><div class="line">      <span class="keyword">if</span> (<span class="built_in">Math</span>.abs(current - <span class="keyword">this</span>.a) &lt; <span class="number">0.01</span>) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">      <span class="keyword">this</span>.a = <span class="keyword">this</span>.vy *= <span class="number">-0.75</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//清除canvas</span></div><div class="line">    ctx.clearRect(<span class="number">0</span>, <span class="number">0</span>, ctx.canvas.width, ctx.canvas.height);</div><div class="line"></div><div class="line">    <span class="comment">// 这里的super指向的是父类的原型对象</span></div><div class="line">    <span class="keyword">super</span>.render(ctx);</div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">let</span> ball, timer;</div><div class="line">canvas.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> x = e.offsetX,</div><div class="line">      y = e.offsetY;</div><div class="line">  <span class="keyword">let</span> r = Ball.rpFn([<span class="number">25</span>, <span class="number">55</span>]);</div><div class="line">  ctx.clearRect(<span class="number">0</span>, <span class="number">0</span>, ctx.canvas.width, ctx.canvas.height);</div><div class="line">  ball = <span class="keyword">new</span> SuperBall(x, y, r).render(ctx);</div><div class="line">  ballMove();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">ballMove</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  timer = <span class="built_in">window</span>.requestAnimationFrame(ballMove);</div><div class="line">  <span class="keyword">if</span> (!ball.move(ctx)) &#123;</div><div class="line">    <span class="built_in">window</span>.cancelAnimationFrame(timer);</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>总结：</strong></p>
<ul>
<li><code>extends</code>关键字：子类继承父类</li>
<li><code>super</code>关键字：为父类指定静态方法<ul>
<li>在构造函数中可当作一个函数使用，相当于调用父类的构造函数</li>
<li>在<code>constructor</code>方法中，可以当作一个对象来使用，相当于父类的原型对象，并且会自动绑定<code>this</code>到子类上。</li>
</ul>
</li>
</ul>
<hr>
<h3 id="Symbol数据类型"><a href="#Symbol数据类型" class="headerlink" title="Symbol数据类型"></a>Symbol数据类型</h3><p>   表示<strong>独一无二的值</strong>，它是第7种基本类型。</p>
<ul>
<li><p>Symbol函数不能使用<code>new</code>关键字，否则会报错，因为它并非是对象。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> s1 = <span class="built_in">Symbol</span>();</div><div class="line"><span class="keyword">let</span> s2 = <span class="built_in">Symbol</span>();</div><div class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> s1); <span class="comment">//'symbol</span></div><div class="line"><span class="built_in">console</span>.log(s1 === s2); <span class="comment">//false</span></div></pre></td></tr></table></figure>
</li>
<li><p>Symbol能接收一个字符串作为参数，表示对该Symbol 的描述，主要是为了在控制台显示，或者转为字符串的时候，比较容易区分。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> s3 =<span class="built_in">Symbol</span>(<span class="string">'Antares'</span>);</div><div class="line"><span class="keyword">let</span> s4 = <span class="built_in">Symbol</span>(<span class="string">'Nicholas'</span>);</div><div class="line"><span class="built_in">console</span>.log(s3,s4);<span class="comment">////Symbol(Antares) Symbol(Nicholas)</span></div></pre></td></tr></table></figure>
</li>
<li><p>Symbol的数据类型转换</p>
<ul>
<li><p>转字符串(不能拼接)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>(<span class="built_in">Symbol</span>(<span class="string">'Antares'</span>)));<span class="comment">//Symbol('Antares')</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Symbol</span>(<span class="string">'Nicholas'</span>).toString());<span class="comment">//Symbol('Nicholas')</span></div></pre></td></tr></table></figure>
</li>
<li><p>转布尔值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(!!<span class="built_in">Symbol</span>());<span class="comment">//true</span></div></pre></td></tr></table></figure>
</li>
<li><p>不能做任何运算不能转成数值</p>
</li>
</ul>
</li>
<li><p>作为对象的属性名使用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> yyy=<span class="built_in">Symbol</span>(<span class="string">'yyy'</span>);</div><div class="line"><span class="keyword">const</span> obj=&#123;&#125;;</div><div class="line">obj[yyy]=<span class="string">'hello'</span>;</div><div class="line"><span class="built_in">console</span>.log(obj);&#123;<span class="built_in">Symbol</span>(yyy): <span class="string">"hello"</span>&#125;<span class="comment">//&#123;Symbol(yyy): "hello"&#125;</span></div><div class="line"><span class="comment">//获取</span></div><div class="line"><span class="built_in">console</span>.log(obj[yyy]);<span class="comment">//hello</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> name = <span class="built_in">Symbol</span>(<span class="string">'Antares'</span>);</div><div class="line"><span class="comment">//赋值</span></div><div class="line"><span class="keyword">const</span> data= &#123;</div><div class="line">  [name]:<span class="string">'Antares'</span></div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(data);<span class="comment">//&#123;Symbol(Antares): "Antares"&#125;</span></div><div class="line"><span class="comment">//取值</span></div><div class="line"><span class="built_in">console</span>.log(data[name]); <span class="comment">//Antares</span></div><div class="line"></div><div class="line"><span class="comment">//直接赋值</span></div><div class="line"><span class="keyword">const</span> data2 = &#123;</div><div class="line">  [<span class="built_in">Symbol</span>()]: <span class="number">123</span>,</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(data2); <span class="comment">//&#123;Symbol(): 123&#125;</span></div><div class="line"><span class="built_in">console</span>.log(data2[<span class="string">'Symbol()'</span>]) <span class="comment">//undefined</span></div></pre></td></tr></table></figure>
<ul>
<li><p>作为key使用，不能被<code>for...in</code>循环遍历，但是也不是私有的属性，可以通过<code>Object.getOwnPropertySymbols</code>方法获取对象中所有的Symbol属性。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertySymbols(data));<span class="comment">//[Symbol(Antares)]</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertySymbols(data)[<span class="number">0</span>]);<span class="comment">//Symbol(Antares)</span></div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="内置对象的扩展"><a href="#内置对象的扩展" class="headerlink" title="内置对象的扩展"></a>内置对象的扩展</h3><ol>
<li><p><strong>字符串的扩展</strong></p>
<ul>
<li><p>模版字符串(反引号)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"> <span class="keyword">let</span> flag = <span class="literal">true</span>;</div><div class="line"> <span class="keyword">let</span> html = <span class="string">`&lt;ul&gt;</span></div><div class="line">               &lt;li&gt;<span class="subst">$&#123;<span class="string">'首页'</span>&#125;</span>&lt;/li&gt;</div><div class="line">               &lt;li class="<span class="subst">$&#123;flag?<span class="string">'show'</span>:<span class="string">'hide'</span>&#125;</span>"&gt;&lt;/li&gt;</div><div class="line">             &lt;/ul&gt;`;</div><div class="line"> <span class="built_in">console</span>.log(html);</div><div class="line"><span class="comment">//&lt;ul&gt;</span></div><div class="line"><span class="comment">// 	 &lt;li&gt;首页&lt;/li&gt;</span></div><div class="line"><span class="comment">//   &lt;li class="show"&gt;&lt;/li&gt;</span></div><div class="line"><span class="comment">//&lt;/ul&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>方法扩展</p>
<ol>
<li><p><code>repeat()</code>  有1个参数，作用是将某字符串以参数作为倍数呈现</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> str1 =<span class="string">'a'</span>;</div><div class="line"><span class="keyword">let</span> str2 =str1.repeat(<span class="number">3</span>);</div><div class="line"><span class="built_in">console</span>.log(str2);<span class="comment">//aaa</span></div></pre></td></tr></table></figure>
</li>
<li><p><code>includes()</code> 全局是否包含某个字符串,返回布尔值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> str =<span class="string">'AntaresWong'</span>;</div><div class="line"><span class="built_in">console</span>.log(str.includes(<span class="string">'antares'</span>));<span class="comment">//</span></div></pre></td></tr></table></figure>
</li>
<li><p><code>startsWith()</code>开头是否包含某个字符串,返回布尔值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(str.startsWith(<span class="string">'Antares'</span>));<span class="comment">//true</span></div><div class="line"><span class="built_in">console</span>.log(str.startsWith(<span class="string">'Wong'</span>));<span class="comment">//false</span></div></pre></td></tr></table></figure>
</li>
<li><p><code>endsWith()</code>结尾是否包含某个字符串,返回布尔值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(str.endsWith(<span class="string">'Antares'</span>));<span class="comment">//false</span></div><div class="line"><span class="built_in">console</span>.log(str.endsWith(<span class="string">'Wong'</span>));<span class="comment">//true</span></div></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
</li>
<li><p><strong>数组的扩展</strong></p>
<ol>
<li><p><code>Array.from()</code>将类数组对象（集合）转换成真数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> lis = <span class="built_in">document</span>.querySelectorAll(<span class="string">'li'</span>);</div><div class="line"><span class="keyword">let</span> lis2 = <span class="built_in">Array</span>.from(lis);</div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.isArray(lis)); <span class="comment">//false</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.isArray(lis2)); <span class="comment">//true</span></div></pre></td></tr></table></figure>
</li>
<li><p><code>Array.of()</code>创建一个数组，与<code>[]</code>作用一致</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> arr1 = <span class="built_in">Array</span>.of(<span class="number">1</span>);</div><div class="line"><span class="keyword">let</span> arr2=[<span class="number">1</span>];</div><div class="line"><span class="built_in">console</span>.log(arr1, arr2); <span class="comment">//[1] [1]</span></div></pre></td></tr></table></figure>
</li>
<li><p><code>find()</code>返回符合条件元素,若没有则返回undefined</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</div><div class="line"><span class="keyword">let</span> res = arr.find(<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> a&lt;<span class="number">2</span>;</div><div class="line">&#125;)</div><div class="line"><span class="built_in">console</span>.log(res);<span class="comment">//1</span></div></pre></td></tr></table></figure>
</li>
<li><p><code>findIndex()</code>返回符合条件元素的下标,若没有则返回-1</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</div><div class="line"><span class="keyword">let</span> res = arr.findIndex(<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> a&lt;<span class="number">2</span>;</div><div class="line">&#125;)</div><div class="line"><span class="built_in">console</span>.log(res);<span class="comment">//1</span></div></pre></td></tr></table></figure>
</li>
<li><p><code>fill()</code>给定一个值，值为方法的1参，对数组填充，另外，2参和3参是指定替换范围</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(arr.fill(<span class="string">'abc'</span>))<span class="comment">//["abc", "abc", "abc", "abc"]</span></div><div class="line"><span class="built_in">console</span>.log(arr.fill(<span class="string">'abc'</span>,<span class="number">1</span>,<span class="number">3</span>))<span class="comment">//[1, "abc", "abc", 4]</span></div></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p><strong>对象的扩展</strong></p>
<ol>
<li><p>简化写法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> a=<span class="number">1</span>;</div><div class="line"><span class="keyword">const</span> obj=&#123;</div><div class="line">  a,</div><div class="line">  fn()&#123;</div><div class="line">    <span class="comment">//..do sth</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(obj);<span class="comment">//&#123;a: 1, fn: ƒ&#125;</span></div></pre></td></tr></table></figure>
</li>
<li><p><code>Object.is</code> 判断两个数据是<strong>否长的一样</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">console.log(Object.is(NaN,NaN)); //true</div><div class="line">console.log(Object.is(+0,-0)); //false</div></pre></td></tr></table></figure>
</li>
<li><p><code>Object.assign()</code>用于对象的合并，将源对象的所有可枚举属性复制到目标对象（1参）。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> obj1 = &#123;<span class="attr">a</span>:<span class="number">1</span>&#125;,</div><div class="line">	obj2 =&#123;<span class="attr">a</span>:<span class="number">2</span>,<span class="attr">b</span>:<span class="number">3</span>&#125;,</div><div class="line">	obj3 =&#123;<span class="attr">c</span>:<span class="string">'abc'</span>&#125;;</div><div class="line">	<span class="built_in">Object</span>.assign(obj1,obj2,obj3);</div><div class="line"><span class="built_in">console</span>.log(obj1); <span class="comment">//&#123;a: 2, b: 3, c: "abc"&#125;， 相同key时会覆盖掉目标对象的</span></div></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ol>
<hr>
<h3 id="函数的扩展"><a href="#函数的扩展" class="headerlink" title="函数的扩展"></a>函数的扩展</h3><ul>
<li><p><strong>为函数指定默认值</strong></p>
<p>在ES5中，指定参数默认值存在一处bug</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">a,b</span>)</span>&#123;</div><div class="line">  a = a||<span class="number">10</span>;</div><div class="line">  b= b||<span class="number">20</span>;</div><div class="line">  <span class="built_in">console</span>.log(a+b);</div><div class="line">&#125;</div><div class="line">fn(<span class="number">0</span>,<span class="number">0</span>);<span class="comment">//30</span></div></pre></td></tr></table></figure>
<p>很明显，当传入的参数为0时，此时代入的参数会解析为false失效。</p>
<p>这种问题在ES6很容易解决。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">a=<span class="number">10</span>,b=<span class="number">20</span></span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(a+b);</div><div class="line">&#125;</div><div class="line">fn(<span class="number">0</span>,<span class="number">0</span>);<span class="comment">//0</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong><code>rest</code>参数</strong>。形式为<code>…变量名</code>，用于获取函数的多余参数，这样就可以不需要使用<code>arguments</code>对象了。它搭配的变量是一个数组，该变量将多余的参数放入数组中。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">...arr</span>)</span>&#123;</div><div class="line">  <span class="keyword">let</span> rest = <span class="number">0</span>;</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>,len=arr.length;i&lt;len;i++)&#123;</div><div class="line">    <span class="built_in">console</span>.log(rest);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">sum(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>);<span class="comment">//</span></div><div class="line"><span class="comment">//另一种 在...arr之前也可以添加既定参数</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a, ...arr</span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> rest = a;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = arr.length; i &lt; len; i++) &#123;</div><div class="line">    rest += arr[i];</div><div class="line">  &#125;</div><div class="line">  <span class="built_in">console</span>.log(rest);</div><div class="line">&#125;</div><div class="line">sum(<span class="number">10</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>); <span class="comment">//25</span></div></pre></td></tr></table></figure>
</li>
<li><p><strong>箭头函数</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> arrowFn1 = <span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b;</div><div class="line"><span class="keyword">const</span> arrowFn2= <span class="function">(<span class="params">a,b</span>) =&gt;</span> &#123;</div><div class="line">   a*=<span class="number">2</span>;</div><div class="line">   b*=<span class="number">2</span>;</div><div class="line">   <span class="keyword">return</span> a+b;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">const</span> arrowFn3 =(a,b)= &gt;(&#123;a,b&#125;);</div><div class="line"><span class="built_in">console</span>.log(arrowFn1(<span class="number">1</span>, <span class="number">2</span>)); <span class="comment">//3</span></div><div class="line"><span class="built_in">console</span>.log(arrowFn2(<span class="number">1</span>, <span class="number">2</span>)); <span class="comment">//6</span></div><div class="line"><span class="built_in">console</span>.log(arrowFn3(<span class="number">1</span>, <span class="number">2</span>)); <span class="comment">//&#123;a: 1, b: 2&#125;</span></div></pre></td></tr></table></figure>
<ul>
<li><p>箭头函数体内没有自己的this对象，所以在使用的时候，其内部的this就是定义时候所在环境的 对象，而不是使用时所在环境的对象。所以不能给箭头函数使用<code>call,apply,bind</code>去改变其内部的this指向。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Fn</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>); </div><div class="line">  &#125;, <span class="number">1000</span>);</div><div class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">  &#125;, <span class="number">1000</span>);</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> obj = &#123;&#125;;</div><div class="line">Fn.call(obj);  </div><div class="line"><span class="comment">//window</span></div><div class="line"><span class="comment">//Object</span></div></pre></td></tr></table></figure>
</li>
<li><p>箭头函数体内没有<code>arguments</code>对象，如果要用，可以使用<code>rest</code>参数代替。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> Fn = <span class="function">(<span class="params">...arr</span>) =&gt;</span>arr;</div><div class="line">Fn(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);<span class="comment">//[1,2,3]</span></div></pre></td></tr></table></figure>
</li>
<li><p>箭头函数不能使用<code>new</code>命令，否则会报错。</p>
</li>
<li><p>箭头函数不能用作<em>Generator</em>函数。</p>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="异步操作Promise"><a href="#异步操作Promise" class="headerlink" title="异步操作Promise"></a>异步操作Promise</h3><p>Promise是一种异步编程解决方案，它的形态是一个对象，可以通过Promise构造函数来实例化。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(cb);</div><div class="line"><span class="comment">//实例的基本使用，</span></div><div class="line"><span class="comment">// Pending(进行中) ===&gt; Resolved(以完成)</span></div><div class="line"><span class="comment">// Pending(进行中) ===&gt; Rejected(以失败)</span></div></pre></td></tr></table></figure>
<ul>
<li><p>两个原型方法<code>Promise.protype.then()</code>和<code>Promise.protype.catch()</code>,使用实例如下</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"> <span class="keyword">const</span> imgs = [</div><div class="line">   <span class="string">'http://i1.piimg.com/1949/4f411ed22ce88950.jpg'</span>,</div><div class="line">   <span class="string">'http://i1.piimg.com/1949/5a35e8c2b246ba6f.jpg'</span>,</div><div class="line">   <span class="string">'http://i1.piimg.com/1949/1afc870a86dfec5f.jpg'</span></div><div class="line"> ];</div><div class="line"></div><div class="line"> <span class="function"><span class="keyword">function</span> <span class="title">loadImg</span>(<span class="params">url</span>) </span>&#123;</div><div class="line">   <span class="keyword">const</span> pm = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</div><div class="line">     <span class="keyword">const</span> img = <span class="keyword">new</span> Image();</div><div class="line">     img.src = url;</div><div class="line">     img.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">       resolve(<span class="keyword">this</span>);</div><div class="line">     &#125;;</div><div class="line">     img.onerror = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">       reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'图片加载失败'</span>));</div><div class="line">     &#125;;</div><div class="line">   &#125;);</div><div class="line">   <span class="keyword">return</span> pm;</div><div class="line"> &#125;</div><div class="line"></div><div class="line">loadImg[imgs[<span class="number">0</span>]].then(<span class="function"><span class="keyword">function</span>(<span class="params">img</span>) </span>&#123; <span class="comment">//成功回调</span></div><div class="line">  <span class="built_in">document</span>.body.appendChild(img);</div><div class="line">&#125;).catch(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123; <span class="comment">//异常错误回调</span></div><div class="line">  <span class="built_in">console</span>.log(err)</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
<li><p>两个静态方法</p>
<ul>
<li><code>Promise.all()</code>可将多个Promise实例包装成一个新的Promise实例。它有两种状态<ol>
<li>当所有Promise实例的状态都为resolved（成功）时候，Promise.all的状态才会变成resolved,此时返回一个数组，传递给then中的resolve函数。</li>
<li>只要其中Promise实例的状态有一个为rejected,Promise.all的状态就编程rejected,此时第一个被reject的实例的返回值会传递给回调函数。</li>
</ol>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> allDone = <span class="built_in">Promise</span>.all([loadImg(imgs[<span class="number">0</span>]), loadImg(imgs[<span class="number">1</span>]), loadImg(imgs[<span class="number">2</span>])]);</div><div class="line">allDone.then(<span class="function"><span class="keyword">function</span>(<span class="params">datas</span>) </span>&#123;</div><div class="line">  datas.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item, i</span>) </span>&#123;</div><div class="line">    <span class="built_in">document</span>.body.appendChild(item);</div><div class="line">  &#125;)</div><div class="line">&#125;).catch(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123; <span class="comment">//异常错误回调</span></div><div class="line">  <span class="built_in">console</span>.log(err)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<ul>
<li><p><code>Promise.resolve()</code>主要将一个对象转为Promise对象</p>
<ol>
<li><p>接收一个Promise实例，不作修改直接返回该实例</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Promise</span>.resolve(loadImg(imgs[<span class="number">0</span>])).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">   <span class="built_in">document</span>.body.appendChild(item);</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
<li><p>将对象转为Promise对象，然后就立即执行thenable对象的then方法。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Promise</span>.resolve(&#123;</div><div class="line">  then(resolve, reject) &#123;</div><div class="line">    <span class="keyword">const</span> img = <span class="keyword">new</span> Image();</div><div class="line">    img.src = imgs[<span class="number">1</span>];</div><div class="line">    img.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">      resolve(<span class="keyword">this</span>);</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">img</span>) </span>&#123;</div><div class="line">  <span class="built_in">document</span>.body.appendChild(img);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
<li><p>传入字符串</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Promise</span>.resolve(<span class="string">'miaov'</span>).then(<span class="function"><span class="keyword">function</span> (<span class="params">str</span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(str);</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
</li>
</ul>

        </div>

        <blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2017-08-16T14:23:40.000Z" itemprop="dateUpdated">2017-08-16 22:23:40</time>
</span><br>


        
        这里可以写作者留言，标签和 hexo 中所有变量及辅助函数等均可调用，示例：<a href="/2017/08/15/初识ES6/" target="_blank" rel="external">http://kpengWang.github.io/2017/08/15/初识ES6/</a>
        
    </div>
    <footer>
        <a href="http://kpengWang.github.io">
            <img src="/img/head.jpg" alt="白夜">
            白夜
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ES6/">ES6</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://kpengWang.github.io/2017/08/15/初识ES6/&title=《初识ES6》 — 白夜的博客&pic=http://kpengWang.github.io/img/head.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://kpengWang.github.io/2017/08/15/初识ES6/&title=《初识ES6》 — 白夜的博客&source=记录" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://kpengWang.github.io/2017/08/15/初识ES6/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《初识ES6》 — 白夜的博客&url=http://kpengWang.github.io/2017/08/15/初识ES6/&via=http://kpengWang.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://kpengWang.github.io/2017/08/15/初识ES6/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2017/08/21/再聊设计模式/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">再聊设计模式</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2017/07/02/jQuery性能优化和技巧/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">jQuery性能优化和技巧</h4>
      </a>
    </div>
  
</nav>



    










    <div id="cloud-tie-wrapper" class="comments cloud-tie-wrapper"></div>
    <script>
    var cloudTieConfig = {
        url: 'http://kpengWang.github.io/2017/08/15/初识ES6/index.html',
        sourceId: '初识ES6',
        productKey: 'b9f52fc636224e8b93d9c1ed3db6c5a0',
        target: 'cloud-tie-wrapper',
        pcFiles: [
            '//unpkg.com/hexo-theme-material-indigo@latest/css/cloudTie/pc.css',
            '//unpkg.com/hexo-theme-material-indigo@latest/js/cloudTie/pc.min.js',
        ],
        mobileFiles: [
            '//unpkg.com/hexo-theme-material-indigo@latest/css/cloudTie/mobile.css',
            '//unpkg.com/hexo-theme-material-indigo@latest/js/cloudTie/mobile.min.js'
        ]
    };
    </script>
    <script src="//unpkg.com/hexo-theme-material-indigo@latest/js/cloudTie/loader.min.js"></script>







</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        嗯，请简单粗暴地爱我~
        <i class="icon icon-quote-right"></i>
    </h3>
    <ul class="reward-items">
        
        <li>
            <img src="/img/wechat.jpg" title="微信打赏二维码" alt="微信打赏二维码">
            <p>微信</p>
        </li>
        

        
        <li>
            <img src="/img/alipay.jpg" title="支付宝打赏二维码" alt="支付宝打赏二维码">
            <p>支付宝</p>
        </li>
        
    </ul>
</div>



</div>

        <footer class="footer">
    <!--<div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>This blog is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</span>
        </p>
    </div>-->
    <div class="bottom">
        <p>
            <!--<span>Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a></span>-->
            <span>Yesterday U Said Tomorrow</span>
            <span>白夜 &copy; 2016 - 2017</span>
        </p>
    </div>
</footer>
    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://kpengWang.github.io/2017/08/15/初识ES6/&title=《初识ES6》 — 白夜的博客&pic=http://kpengWang.github.io/img/head.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://kpengWang.github.io/2017/08/15/初识ES6/&title=《初识ES6》 — 白夜的博客&source=记录" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://kpengWang.github.io/2017/08/15/初识ES6/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《初识ES6》 — 白夜的博客&url=http://kpengWang.github.io/2017/08/15/初识ES6/&via=http://kpengWang.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://kpengWang.github.io/2017/08/15/初识ES6/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=http://kpengWang.github.io/2017/08/15/初识ES6/" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };



</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '死鬼去哪里了！';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
